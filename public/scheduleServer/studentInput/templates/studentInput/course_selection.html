{% extends "projectIndex/background.html" %}
{% block sun %}
<h1>Course Selection</h1>
{% endblock %}
{% block sky %}
{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}

<form action="{% url 'studentInput:submit' %}" method="post" style = "padding-left: 10px;">
<a href="{% url 'projectIndex:student' %}" >Back to Index</a>
Hi {{student}}!
{% csrf_token %}
<br><br>
{% for course in course_list %}
    Course {{ forloop.counter }}:
    <input type ="text" name = "course{{ forloop.counter }}" value = "{{course.course_id}}" onchange="displayCourseName({{ forloop.counter }}, this.value)">
    <div id="name{{ forloop.counter }}" style="display:inline-block">{{course.course_name}}</div>
    <br>
{% endfor %}
<br>
<input type="submit" value="Submit Course Request">
<input type="hidden" name="username" value="{{student}}">
</form>


<script>
    
    courseDict = {};
    
    {% for course in courseDict %}
        courseDict["{{ course.course_id }}"] = "{{course.course_name}}";
    {% endfor %}
    
    function displayCourseName(numCourse, value){
        if (courseDict[value]){
            document.getElementById("name" + numCourse).innerHTML = courseDict[value];
        }else{
            document.getElementById("name" + numCourse).innerHTML = "Error: Invalid Course ID";
        }
    }
    
</script>

{% include "projectIndex/expandable_course_list.html" %}

{% endblock %}
